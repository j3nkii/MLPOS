maybe....
delete customer cascades is_delted = false to invoices
then when getting invoices, get all invoices where is not (is delted =true && invoices status = pending)


lol, data validation